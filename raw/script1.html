<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Access Control</title>
</head>
<body>
    <script>
        // 配置信息
        const CONFIG = {
            password: 'SuperMiner',
            githubUser: 'Yyds76',
            githubRepo: 'Yyds76.github.io'
        };

        // 检查是否为Roblox Executor
        function isRobloxExecutor() {
            const userAgent = navigator.userAgent.toLowerCase();
            const robloxKeywords = ['roblox', 'executor', 'synapse', 'krnl', 'oxygen', 'sentinel'];
            return robloxKeywords.some(keyword => userAgent.includes(keyword)) || 
                   window.location.search.includes('executor=true') ||
                   document.referrer.includes('roblox');
        }

        // 检查登录状态
        function checkAuth() {
            if (isRobloxExecutor()) {
                return true;
            }
            return sessionStorage.getItem('authenticated') === 'true';
        }

        // 获取并显示脚本内容
        async function loadScript() {
            // 检查访问权限
            if (!checkAuth()) {
                // 未授权访问，重定向到主页
                window.location.href = '/';
                return;
            }

            try {
                // 获取对应的.txt文件内容
                const response = await fetch('./script1.txt');
                const scriptContent = await response.text();
                
                // 清空页面并只显示纯文本内容
                document.open();
                document.write(scriptContent);
                document.close();
                
            } catch (error) {
                document.body.innerHTML = '404 - 文件未找到';
            }
        }

        // 页面加载时执行
        loadScript();
    </script>
</body>
</html>
